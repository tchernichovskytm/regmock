<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:helper="clr-namespace:regmock.Helper"
             x:Class="regmock.Views.LoginPage"
             Title="LoginPage">
    <Grid Style="{StaticResource MainGridStyle}">
        <Label Grid.Row="0" Text="Login" Style="{StaticResource TitleLabel}" />

        <ScrollView Grid.Row="1">
            <VerticalStackLayout Style="{StaticResource MainStack}">

                <VerticalStackLayout>
                    <Label Text="Email:" />
                    <Grid>
                        <Entry Text="{Binding EmailEntry}"/>

                        <Button
                        Command="{Binding EmailReset_Cmd}"
                        HorizontalOptions="End"
                        MaximumWidthRequest="64"
                        Padding="0"
                        
                        BackgroundColor="Transparent"
                        BorderColor="Transparent"
                        FontSize="20"
                        FontFamily="MaterialIcons" 
                        Text="{x:Static helper:IconFont.Close}"
                        TextColor="Gray"
                    />
                    </Grid>

                    <Label Text="{Binding EmailErr}" Style="{StaticResource errLabel}" />
                </VerticalStackLayout>

                <VerticalStackLayout>
                    <Label Text="Password:" />

                    <Grid ColumnDefinitions="*, Auto, Auto">
                        <Entry Text="{Binding PasswordEntry}" IsPassword="{Binding IsPassVisible}" Grid.ColumnSpan="3"/>

                        <Button
                            Command="{Binding ShowPass_Cmd}"
                            Grid.Column="1"
                            HorizontalOptions="End"
                            MaximumWidthRequest="20"
                            Padding="0"
                        
                            BackgroundColor="Transparent"
                            BorderColor="Transparent"
                            FontSize="20"
                            FontFamily="MaterialIcons" 
                            TextColor="Gray"
                            Text="{x:Static helper:IconFont.Remove_red_eye}"
                        />
                        <Button
                            Command="{Binding PassReset_Cmd}"
                            Grid.Column="2"
                            HorizontalOptions="End"
                            MaximumWidthRequest="64"
                            Padding="0"
                        
                            BackgroundColor="Transparent"
                            BorderColor="Transparent"
                            FontSize="20"
                            FontFamily="MaterialIcons" 
                            Text="{x:Static helper:IconFont.Close}"
                            TextColor="Gray"
                        />
                    </Grid>

                    <Label Text="{Binding PasswordErr}" Style="{StaticResource errLabel}" />
                </VerticalStackLayout>

                <VerticalStackLayout>
                    <Label
                        HorizontalOptions="Center"
                        Style="{StaticResource errLabel}"
                
                        Grid.Row="2"
                        FontSize="18"
                        Text="{Binding LoginErr}"
                    />
                </VerticalStackLayout>

            </VerticalStackLayout>
        </ScrollView>

        <Button
            Grid.Row="2"
            Text="Login"
            Style="{StaticResource ConfirmButton}"
            
            IsEnabled="{Binding CanLogin}"
            Command="{Binding Login_Cmd}"
        />
    </Grid>
</ContentPage>